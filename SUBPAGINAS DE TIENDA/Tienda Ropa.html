<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link  href="../CSS/estilo.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="../Imagenes/Logo Tarjeta.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>  
    <title>Mascotik Store</title>
</head>
<body>

    <div class="container">
        <div class="row row-cols-auto" id="contenedor-ropa">
        </div>
        <br>
    </div>

    <div class= "modal fade" id="modal" tabindex="-1" aria-labelledby="examplemodallebel" aria-hidden="true" ></div>

    <div class="contenedor">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 d-flex align-items-center justify-content-center">
                    <img src="../Imagenes/Logo Tarjeta.png" alt="Logo" width="180" height="150">   
                </div>
                <div class="col-md-6">
                    <div class="col-md-12 text-center">
                        <h3><strong>Mascotik Store</strong></h3>
                        <p><strong>Correo electrónico:</strong> Contacto@MascotikStore.com </p>
                        <p><strong>Teléfono:</strong> +56966989578</p>
                        <p><strong>Dirección:</strong> Santiago, Chile</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    $(document).ready(function() {
      function cargarDatos() {
          $.getJSON("../JSON/allmodal.json", function(data) {
            if (filtro=='ropa'){
                id=idRopa,
                nombre=Nombre
            } else if (filtro=='alimento'){
                id= idAlimento
                nombre=nombreAlimento
            }
              $.each(data.ropa, function(index, datos) {
                  var nuevaTarjeta = $("<div class='card' style='width: 22rem;'>");
                  nuevaTarjeta.append('<a href="#" valor-id="'+datos.idRopa+'" class="tarjetas" -bs-toggle="modal" -bs-target="#exampleModal"><div class="card" style="width: 15rem;"> <img src="'  + datos.ImgRopa + '" class="card-img-top" alt="perrito'  + datos.idRopa + '">');
                  nuevaTarjeta.append("<p class='card-text text-center'><strong>" + datos.strTitulo + "</strong></p>");
                  var ul = $("<ul>");
                    ul.append("<li> " + datos.strDescripcion + "</li>");
                    ul.append("<li> Precio: " + datos.strPrecio + "</li>");
                  nuevaTarjeta.append(ul);
                  nuevaTarjeta.append("<input type='button' class='btn btn-primary' value='Ver Detalles'>");
                  $("#contenedor-ropa").append(nuevaTarjeta);
              });

              $(".card").click(function() {
                    var datos = $(this).attr("valor-id")
                    mostrarModal(datos);
                });
            });
        }

        function mostrarModal(datos) {
            var modalContenido = '<div class="modal-dialog"><div class="modal-content">';
            modalContenido += '<div class="modal-header"><h1 class="modal-title fs-5">' + datos.strTitulo + '</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>';
            modalContenido += '<div class="modal-body"><img src="' + datos.ImgRopa + '" style="width: 40%; height:40%;"><br><br>';
            modalContenido += 'Descripción: ' + datos.strDescripcion + '<br>Precio: ' + datos.strPrecio + '</div>';
            modalContenido += '<div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div>';
            $("#modal").empty();
            $("#modal").append(modalContenido);
            $("#modal").modal("show");
        }

        cargarDatos();
    });
</script>

</html>